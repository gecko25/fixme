{"version":3,"sources":["loose-envify.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,SAAS,QAAQ,QAAR,CAAT;AACJ,IAAI,OAAO,QAAQ,MAAR,CAAP;AACJ,IAAI,UAAU,QAAQ,WAAR,CAAV;;AAEJ,IAAI,YAAY,SAAZ;;AAEJ,OAAO,OAAP,GAAiB,UAAS,OAAT,EAAkB;AACjC,YAAU,WAAW,QAAQ,GAAR,CADY;AAEjC,SAAO,UAAU,IAAV,EAAgB,MAAhB,EAAwB;AAC7B,QAAI,UAAU,IAAV,CAAe,IAAf,CAAJ,EAA0B;AACxB,aAAO,OAAO,WAAP,EAAP,CADwB;KAA1B;AAGA,QAAI,OAAO,SAAS,CAAC,OAAD,EAAU,MAAV,CAAT,GAA6B,CAAC,OAAD,CAA7B,CAJkB;AAK7B,WAAO,IAAI,WAAJ,CAAgB,IAAhB,CAAP,CAL6B;GAAxB,CAF0B;CAAlB;;AAWjB,SAAS,WAAT,CAAqB,IAArB,EAA2B;AACzB,SAAO,SAAP,CAAiB,IAAjB,CAAsB,IAAtB,EADyB;AAEzB,OAAK,KAAL,GAAa,EAAb,CAFyB;AAGzB,OAAK,KAAL,GAAa,IAAb,CAHyB;CAA3B;AAKA,KAAK,QAAL,CAAc,WAAd,EAA2B,OAAO,SAAP,CAA3B;;AAEA,YAAY,SAAZ,CAAsB,UAAtB,GAAmC,UAAS,GAAT,EAAc,GAAd,EAAmB,EAAnB,EAAuB;AACxD,OAAK,KAAL,IAAc,GAAd,CADwD;AAExD,OAFwD;CAAvB;;AAKnC,YAAY,SAAZ,CAAsB,MAAtB,GAA+B,UAAS,EAAT,EAAa;AAC1C,MAAI,WAAW,QAAQ,KAAK,KAAL,EAAY,KAAK,KAAL,CAA/B,CADsC;AAE1C,OAAK,IAAL,CAAU,QAAV,EAF0C;AAG1C,OAH0C;CAAb","file":"loose-envify-compiled.js","sourcesContent":["'use strict';\n\nvar stream = require('stream');\nvar util = require('util');\nvar replace = require('./replace');\n\nvar jsonExtRe = /\\.json$/;\n\nmodule.exports = function(rootEnv) {\n  rootEnv = rootEnv || process.env;\n  return function (file, trOpts) {\n    if (jsonExtRe.test(file)) {\n      return stream.PassThrough();\n    }\n    var envs = trOpts ? [rootEnv, trOpts] : [rootEnv];\n    return new LooseEnvify(envs);\n  };\n};\n\nfunction LooseEnvify(envs) {\n  stream.Transform.call(this);\n  this._data = '';\n  this._envs = envs;\n}\nutil.inherits(LooseEnvify, stream.Transform);\n\nLooseEnvify.prototype._transform = function(buf, enc, cb) {\n  this._data += buf;\n  cb();\n};\n\nLooseEnvify.prototype._flush = function(cb) {\n  var replaced = replace(this._data, this._envs);\n  this.push(replaced);\n  cb();\n};\n"]}