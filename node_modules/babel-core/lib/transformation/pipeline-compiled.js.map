{"version":3,"sources":["pipeline.js"],"names":[],"mappings":"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","file":"pipeline-compiled.js","sourcesContent":["/* global BabelFileResult, BabelFileMetadata */\n\"use strict\";\n\nvar _classCallCheck = require(\"babel-runtime/helpers/class-call-check\")[\"default\"];\n\nvar _interopRequireDefault = require(\"babel-runtime/helpers/interop-require-default\")[\"default\"];\n\nexports.__esModule = true;\n\nvar _helpersNormalizeAst = require(\"../helpers/normalize-ast\");\n\nvar _helpersNormalizeAst2 = _interopRequireDefault(_helpersNormalizeAst);\n\nvar _plugin = require(\"./plugin\");\n\nvar _plugin2 = _interopRequireDefault(_plugin);\n\nvar _file = require(\"./file\");\n\nvar _file2 = _interopRequireDefault(_file);\n\nvar Pipeline = (function () {\n  function Pipeline() {\n    _classCallCheck(this, Pipeline);\n  }\n\n  Pipeline.prototype.lint = function lint(code) {\n    var opts = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    opts.code = false;\n    opts.mode = \"lint\";\n    return this.transform(code, opts);\n  };\n\n  Pipeline.prototype.pretransform = function pretransform(code, opts) {\n    var file = new _file2[\"default\"](opts, this);\n    return file.wrap(code, function () {\n      file.addCode(code);\n      file.parseCode(code);\n      return file;\n    });\n  };\n\n  Pipeline.prototype.transform = function transform(code, opts) {\n    var file = new _file2[\"default\"](opts, this);\n    return file.wrap(code, function () {\n      file.addCode(code);\n      file.parseCode(code);\n      return file.transform();\n    });\n  };\n\n  Pipeline.prototype.analyse = function analyse(code, opts, visitor) {\n    if (opts === undefined) opts = {};\n\n    opts.code = false;\n    if (visitor) {\n      opts.plugins = opts.plugins || [];\n      opts.plugins.push(new _plugin2[\"default\"]({ visitor: visitor }));\n    }\n    return this.transform(code, opts).metadata;\n  };\n\n  Pipeline.prototype.transformFromAst = function transformFromAst(ast, code, opts) {\n    ast = _helpersNormalizeAst2[\"default\"](ast);\n\n    var file = new _file2[\"default\"](opts, this);\n    return file.wrap(code, function () {\n      file.addCode(code);\n      file.addAst(ast);\n      return file.transform();\n    });\n  };\n\n  return Pipeline;\n})();\n\nexports[\"default\"] = Pipeline;\nmodule.exports = exports[\"default\"];"]}