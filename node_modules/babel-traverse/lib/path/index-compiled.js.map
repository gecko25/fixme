{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/* eslint max-len: 0 */\n\n\"use strict\";\n\nvar _classCallCheck = require(\"babel-runtime/helpers/class-call-check\")[\"default\"];\n\nvar _interopRequireWildcard = require(\"babel-runtime/helpers/interop-require-wildcard\")[\"default\"];\n\nvar _interopRequireDefault = require(\"babel-runtime/helpers/interop-require-default\")[\"default\"];\n\nexports.__esModule = true;\n\nvar _libVirtualTypes = require(\"./lib/virtual-types\");\n\nvar virtualTypes = _interopRequireWildcard(_libVirtualTypes);\n\nvar _debug2 = require(\"debug\");\n\nvar _debug3 = _interopRequireDefault(_debug2);\n\nvar _invariant = require(\"invariant\");\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _index = require(\"../index\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _lodashObjectAssign = require(\"lodash/object/assign\");\n\nvar _lodashObjectAssign2 = _interopRequireDefault(_lodashObjectAssign);\n\nvar _scope = require(\"../scope\");\n\nvar _scope2 = _interopRequireDefault(_scope);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _cache = require(\"../cache\");\n\nvar _debug = _debug3[\"default\"](\"babel\");\n\nvar NodePath = (function () {\n  function NodePath(hub, parent) {\n    _classCallCheck(this, NodePath);\n\n    this.parent = parent;\n    this.hub = hub;\n    this.contexts = [];\n    this.data = {};\n    this.shouldSkip = false;\n    this.shouldStop = false;\n    this.removed = false;\n    this.state = null;\n    this.opts = null;\n    this.skipKeys = null;\n    this.parentPath = null;\n    this.context = null;\n    this.container = null;\n    this.listKey = null;\n    this.inList = false;\n    this.parentKey = null;\n    this.key = null;\n    this.node = null;\n    this.scope = null;\n    this.type = null;\n    this.typeAnnotation = null;\n  }\n\n  NodePath.get = function get(_ref) {\n    var hub = _ref.hub;\n    var parentPath = _ref.parentPath;\n    var parent = _ref.parent;\n    var container = _ref.container;\n    var listKey = _ref.listKey;\n    var key = _ref.key;\n\n    if (!hub && parentPath) {\n      hub = parentPath.hub;\n    }\n\n    _invariant2[\"default\"](parent, \"To get a node path the parent needs to exist\");\n\n    var targetNode = container[key];\n\n    var paths = _cache.path.get(parent) || [];\n    if (!_cache.path.has(parent)) {\n      _cache.path.set(parent, paths);\n    }\n\n    var path = undefined;\n\n    for (var i = 0; i < paths.length; i++) {\n      var pathCheck = paths[i];\n      if (pathCheck.node === targetNode) {\n        path = pathCheck;\n        break;\n      }\n    }\n\n    if (path && !(path instanceof NodePath)) {\n      if (path.constructor.name === \"NodePath\") {\n        // we're going to absolutley thrash the tree and allocate way too many node paths\n        // than is necessary but there's no way around this as the node module resolution\n        // algorithm is ridiculous\n        path = null;\n      } else {\n        // badly deserialised probably\n        throw new Error(\"We found a path that isn't a NodePath instance. Possibly due to bad serialisation.\");\n      }\n    }\n\n    if (!path) {\n      path = new NodePath(hub, parent);\n      paths.push(path);\n    }\n\n    path.setup(parentPath, container, listKey, key);\n\n    return path;\n  };\n\n  NodePath.prototype.getScope = function getScope(scope) {\n    var ourScope = scope;\n\n    // we're entering a new scope so let's construct it!\n    if (this.isScope()) {\n      ourScope = new _scope2[\"default\"](this, scope);\n    }\n\n    return ourScope;\n  };\n\n  NodePath.prototype.setData = function setData(key, val) {\n    return this.data[key] = val;\n  };\n\n  NodePath.prototype.getData = function getData(key, def) {\n    var val = this.data[key];\n    if (!val && def) val = this.data[key] = def;\n    return val;\n  };\n\n  NodePath.prototype.buildCodeFrameError = function buildCodeFrameError(msg) {\n    var Error = arguments.length <= 1 || arguments[1] === undefined ? SyntaxError : arguments[1];\n\n    return this.hub.file.buildCodeFrameError(this.node, msg, Error);\n  };\n\n  NodePath.prototype.traverse = function traverse(visitor, state) {\n    _index2[\"default\"](this.node, visitor, this.scope, state, this);\n  };\n\n  NodePath.prototype.mark = function mark(type, message) {\n    this.hub.file.metadata.marked.push({\n      type: type,\n      message: message,\n      loc: this.node.loc\n    });\n  };\n\n  NodePath.prototype.set = function set(key, node) {\n    t.validate(this.node, key, node);\n    this.node[key] = node;\n  };\n\n  NodePath.prototype.getPathLocation = function getPathLocation() {\n    var parts = [];\n    var path = this;\n    do {\n      var key = path.key;\n      if (path.inList) key = path.listKey + \"[\" + key + \"]\";\n      parts.unshift(key);\n    } while (path = path.parentPath);\n    return parts.join(\".\");\n  };\n\n  NodePath.prototype.debug = function debug(buildMessage) {\n    if (!_debug.enabled) return;\n    _debug(this.getPathLocation() + \" \" + this.type + \": \" + buildMessage());\n  };\n\n  return NodePath;\n})();\n\nexports[\"default\"] = NodePath;\n\n_lodashObjectAssign2[\"default\"](NodePath.prototype, require(\"./ancestry\"));\n_lodashObjectAssign2[\"default\"](NodePath.prototype, require(\"./inference\"));\n_lodashObjectAssign2[\"default\"](NodePath.prototype, require(\"./replacement\"));\n_lodashObjectAssign2[\"default\"](NodePath.prototype, require(\"./evaluation\"));\n_lodashObjectAssign2[\"default\"](NodePath.prototype, require(\"./conversion\"));\n_lodashObjectAssign2[\"default\"](NodePath.prototype, require(\"./introspection\"));\n_lodashObjectAssign2[\"default\"](NodePath.prototype, require(\"./context\"));\n_lodashObjectAssign2[\"default\"](NodePath.prototype, require(\"./removal\"));\n_lodashObjectAssign2[\"default\"](NodePath.prototype, require(\"./modification\"));\n_lodashObjectAssign2[\"default\"](NodePath.prototype, require(\"./family\"));\n_lodashObjectAssign2[\"default\"](NodePath.prototype, require(\"./comments\"));\n\nvar _arr = t.TYPES;\n\nvar _loop = function () {\n  var type = _arr[_i];\n  var typeKey = \"is\" + type;\n  NodePath.prototype[typeKey] = function (opts) {\n    return t[typeKey](this.node, opts);\n  };\n\n  NodePath.prototype[\"assert\" + type] = function (opts) {\n    if (!this[typeKey](opts)) {\n      throw new TypeError(\"Expected node path of type \" + type);\n    }\n  };\n};\n\nfor (var _i = 0; _i < _arr.length; _i++) {\n  _loop();\n}\n\nvar _loop2 = function (type) {\n  if (type[0] === \"_\") return \"continue\";\n  if (t.TYPES.indexOf(type) < 0) t.TYPES.push(type);\n\n  var virtualType = virtualTypes[type];\n\n  NodePath.prototype[\"is\" + type] = function (opts) {\n    return virtualType.checkPath(this, opts);\n  };\n};\n\nfor (var type in virtualTypes) {\n  var _ret2 = _loop2(type);\n\n  // istanbul ignore next\n  if (_ret2 === \"continue\") continue;\n}\nmodule.exports = exports[\"default\"];"]}