{"version":3,"sources":["family.js"],"names":[],"mappings":"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","file":"family-compiled.js","sourcesContent":["// This file contains methods responsible for dealing with/retrieving children or siblings.\n\n\"use strict\";\n\nvar _interopRequireDefault = require(\"babel-runtime/helpers/interop-require-default\")[\"default\"];\n\nvar _interopRequireWildcard = require(\"babel-runtime/helpers/interop-require-wildcard\")[\"default\"];\n\nexports.__esModule = true;\nexports.getStatementParent = getStatementParent;\nexports.getOpposite = getOpposite;\nexports.getCompletionRecords = getCompletionRecords;\nexports.getSibling = getSibling;\nexports.get = get;\nexports._getKey = _getKey;\nexports._getPattern = _getPattern;\nexports.getBindingIdentifiers = getBindingIdentifiers;\nexports.getOuterBindingIdentifiers = getOuterBindingIdentifiers;\n\nvar _index = require(\"./index\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nfunction getStatementParent() {\n  var path = this;\n\n  do {\n    if (!path.parentPath || Array.isArray(path.container) && path.isStatement()) {\n      break;\n    } else {\n      path = path.parentPath;\n    }\n  } while (path);\n\n  if (path && (path.isProgram() || path.isFile())) {\n    throw new Error(\"File/Program node, we can't possibly find a statement parent to this\");\n  }\n\n  return path;\n}\n\nfunction getOpposite() {\n  if (this.key === \"left\") {\n    return this.getSibling(\"right\");\n  } else if (this.key === \"right\") {\n    return this.getSibling(\"left\");\n  }\n}\n\nfunction getCompletionRecords() {\n  var paths = [];\n\n  var add = function add(path) {\n    if (path) paths = paths.concat(path.getCompletionRecords());\n  };\n\n  if (this.isIfStatement()) {\n    add(this.get(\"consequent\"));\n    add(this.get(\"alternate\"));\n  } else if (this.isDoExpression() || this.isFor() || this.isWhile()) {\n    add(this.get(\"body\"));\n  } else if (this.isProgram() || this.isBlockStatement()) {\n    add(this.get(\"body\").pop());\n  } else if (this.isFunction()) {\n    return this.get(\"body\").getCompletionRecords();\n  } else if (this.isTryStatement()) {\n    add(this.get(\"block\"));\n    add(this.get(\"handler\"));\n    add(this.get(\"finalizer\"));\n  } else {\n    paths.push(this);\n  }\n\n  return paths;\n}\n\nfunction getSibling(key) {\n  return _index2[\"default\"].get({\n    parentPath: this.parentPath,\n    parent: this.parent,\n    container: this.container,\n    listKey: this.listKey,\n    key: key\n  });\n}\n\nfunction get(key, context) {\n  if (context === true) context = this.context;\n  var parts = key.split(\".\");\n  if (parts.length === 1) {\n    // \"foo\"\n    return this._getKey(key, context);\n  } else {\n    // \"foo.bar\"\n    return this._getPattern(parts, context);\n  }\n}\n\nfunction _getKey(key, context) {\n  // istanbul ignore next\n\n  var _this = this;\n\n  var node = this.node;\n  var container = node[key];\n\n  if (Array.isArray(container)) {\n    // requested a container so give them all the paths\n    return container.map(function (_, i) {\n      return _index2[\"default\"].get({\n        listKey: key,\n        parentPath: _this,\n        parent: node,\n        container: container,\n        key: i\n      }).setContext(context);\n    });\n  } else {\n    return _index2[\"default\"].get({\n      parentPath: this,\n      parent: node,\n      container: node,\n      key: key\n    }).setContext(context);\n  }\n}\n\nfunction _getPattern(parts, context) {\n  var path = this;\n  var _arr = parts;\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var part = _arr[_i];\n    if (part === \".\") {\n      path = path.parentPath;\n    } else {\n      if (Array.isArray(path)) {\n        path = path[part];\n      } else {\n        path = path.get(part, context);\n      }\n    }\n  }\n  return path;\n}\n\nfunction getBindingIdentifiers(duplicates) {\n  return t.getBindingIdentifiers(this.node, duplicates);\n}\n\nfunction getOuterBindingIdentifiers(duplicates) {\n  return t.getOuterBindingIdentifiers(this.node, duplicates);\n}"]}