{"version":3,"sources":["index.js"],"names":[],"mappings":";;AAAA,OAAO,OAAP,GAAiB,UAAU,IAAV,EAAgB,IAAhB,EAAsB;AACnC,QAAI,CAAC,IAAD,EAAO,OAAO,EAAP,CAAX;;AAEA,QAAI,QAAQ,EAAE,OAAQ,EAAR,EAAY,SAAU,EAAV,EAAc,WAAW,IAAX,EAApC,CAH+B;;AAKnC,QAAI,OAAO,KAAK,SAAL,CAAP,KAA2B,UAA3B,EAAuC;AACvC,cAAM,SAAN,GAAkB,KAAK,SAAL,CAAlB,CADuC;KAA3C;;AAIA,QAAI,OAAO,KAAK,SAAL,CAAP,KAA2B,SAA3B,IAAwC,KAAK,SAAL,CAAxC,EAAyD;AAC3D,cAAM,QAAN,GAAiB,IAAjB,CAD2D;KAA7D,MAEO;AACL,WAAG,MAAH,CAAU,KAAK,SAAL,CAAV,EAA2B,MAA3B,CAAkC,OAAlC,EAA2C,OAA3C,CAAmD,UAAU,GAAV,EAAe;AAC9D,kBAAM,KAAN,CAAY,GAAZ,IAAmB,IAAnB,CAD8D;SAAf,CAAnD,CADK;KAFP;;AAQA,QAAI,UAAU,EAAV,CAjB+B;AAkBnC,WAAO,IAAP,CAAY,KAAK,KAAL,IAAc,EAAd,CAAZ,CAA8B,OAA9B,CAAsC,UAAU,GAAV,EAAe;AACjD,gBAAQ,GAAR,IAAe,GAAG,MAAH,CAAU,KAAK,KAAL,CAAW,GAAX,CAAV,CAAf,CADiD;AAEjD,gBAAQ,GAAR,EAAa,OAAb,CAAqB,UAAU,CAAV,EAAa;AAC9B,oBAAQ,CAAR,IAAa,CAAC,GAAD,EAAM,MAAN,CAAa,QAAQ,GAAR,EAAa,MAAb,CAAoB,UAAU,CAAV,EAAa;AACvD,uBAAO,MAAM,CAAN,CADgD;aAAb,CAAjC,CAAb,CAD8B;SAAb,CAArB,CAFiD;KAAf,CAAtC,CAlBmC;;AA2BnC,OAAG,MAAH,CAAU,KAAK,MAAL,CAAV,CAAuB,MAAvB,CAA8B,OAA9B,EAAuC,OAAvC,CAA+C,UAAU,GAAV,EAAe;AAC1D,cAAM,OAAN,CAAc,GAAd,IAAqB,IAArB,CAD0D;AAE1D,YAAI,QAAQ,GAAR,CAAJ,EAAkB;AACd,kBAAM,OAAN,CAAc,QAAQ,GAAR,CAAd,IAA8B,IAA9B,CADc;SAAlB;KAF2C,CAA/C,CA3BmC;;AAkCnC,QAAI,WAAW,KAAK,SAAL,KAAmB,EAAnB,CAlCoB;;AAoCnC,QAAI,OAAO,EAAE,GAAI,EAAJ,EAAT,CApC+B;AAqCnC,WAAO,IAAP,CAAY,MAAM,KAAN,CAAZ,CAAyB,OAAzB,CAAiC,UAAU,GAAV,EAAe;AAC5C,eAAO,GAAP,EAAY,SAAS,GAAT,MAAkB,SAAlB,GAA8B,KAA9B,GAAsC,SAAS,GAAT,CAAtC,CAAZ,CAD4C;KAAf,CAAjC,CArCmC;;AAyCnC,QAAI,WAAW,EAAX,CAzC+B;;AA2CnC,QAAI,KAAK,OAAL,CAAa,IAAb,MAAuB,CAAC,CAAD,EAAI;AAC3B,mBAAW,KAAK,KAAL,CAAW,KAAK,OAAL,CAAa,IAAb,IAAmB,CAAnB,CAAtB,CAD2B;AAE3B,eAAO,KAAK,KAAL,CAAW,CAAX,EAAc,KAAK,OAAL,CAAa,IAAb,CAAd,CAAP,CAF2B;KAA/B;;AAKA,aAAS,UAAT,CAAoB,GAApB,EAAyB,GAAzB,EAA8B;AAC1B,eAAO,KAAC,CAAM,QAAN,IAAkB,YAAY,IAAZ,CAAiB,GAAjB,CAAlB,IACJ,MAAM,OAAN,CAAc,GAAd,CADG,IACmB,MAAM,KAAN,CAAY,GAAZ,CADnB,IACuC,QAAQ,GAAR,CADvC,CADmB;KAA9B;;AAKA,aAAS,MAAT,CAAiB,GAAjB,EAAsB,GAAtB,EAA2B,GAA3B,EAAgC;AAC5B,YAAI,OAAO,MAAM,SAAN,IAAmB,CAAC,WAAW,GAAX,EAAgB,GAAhB,CAAD,EAAuB;AACjD,gBAAI,MAAM,SAAN,CAAgB,GAAhB,MAAyB,KAAzB,EAAgC,OAApC;SADJ;;AAIA,YAAI,QAAQ,CAAC,MAAM,OAAN,CAAc,GAAd,CAAD,IAAuB,SAAS,GAAT,CAAvB,GACN,OAAO,GAAP,CADM,GACQ,GADR,CALgB;AAQ5B,eAAO,IAAP,EAAa,IAAI,KAAJ,CAAU,GAAV,CAAb,EAA6B,KAA7B,EAR4B;;AAU5B,SAAC,QAAQ,GAAR,KAAgB,EAAhB,CAAD,CAAqB,OAArB,CAA6B,UAAU,CAAV,EAAa;AACtC,mBAAO,IAAP,EAAa,EAAE,KAAF,CAAQ,GAAR,CAAb,EAA2B,KAA3B,EADsC;SAAb,CAA7B,CAV4B;KAAhC;;AAeA,aAAS,MAAT,CAAiB,GAAjB,EAAsB,IAAtB,EAA4B,KAA5B,EAAmC;AAC/B,YAAI,IAAI,GAAJ,CAD2B;AAE/B,aAAK,KAAL,CAAW,CAAX,EAAa,CAAC,CAAD,CAAb,CAAiB,OAAjB,CAAyB,UAAU,GAAV,EAAe;AACpC,gBAAI,EAAE,GAAF,MAAW,SAAX,EAAsB,EAAE,GAAF,IAAS,EAAT,CAA1B;AACA,gBAAI,EAAE,GAAF,CAAJ,CAFoC;SAAf,CAAzB,CAF+B;;AAO/B,YAAI,MAAM,KAAK,KAAK,MAAL,GAAc,CAAd,CAAX,CAP2B;AAQ/B,YAAI,EAAE,GAAF,MAAW,SAAX,IAAwB,MAAM,KAAN,CAAY,GAAZ,CAAxB,IAA4C,OAAO,EAAE,GAAF,CAAP,KAAkB,SAAlB,EAA6B;AACzE,cAAE,GAAF,IAAS,KAAT,CADyE;SAA7E,MAGK,IAAI,MAAM,OAAN,CAAc,EAAE,GAAF,CAAd,CAAJ,EAA2B;AAC5B,cAAE,GAAF,EAAO,IAAP,CAAY,KAAZ,EAD4B;SAA3B,MAGA;AACD,cAAE,GAAF,IAAS,CAAE,EAAE,GAAF,CAAF,EAAU,KAAV,CAAT,CADC;SAHA;KAXT;;AAmBA,aAAS,cAAT,CAAwB,GAAxB,EAA6B;AAC3B,eAAO,QAAQ,GAAR,EAAa,IAAb,CAAkB,UAAU,CAAV,EAAa;AAClC,mBAAO,MAAM,KAAN,CAAY,CAAZ,CAAP,CADkC;SAAb,CAAzB,CAD2B;KAA7B;;AAMA,SAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,KAAK,MAAL,EAAa,GAAjC,EAAsC;AAClC,YAAI,MAAM,KAAK,CAAL,CAAN,CAD8B;;AAGlC,YAAI,SAAS,IAAT,CAAc,GAAd,CAAJ,EAAwB;;;;AAIpB,gBAAI,IAAI,IAAI,KAAJ,CAAU,uBAAV,CAAJ,CAJgB;AAKpB,gBAAI,MAAM,EAAE,CAAF,CAAN,CALgB;AAMpB,gBAAI,QAAQ,EAAE,CAAF,CAAR,CANgB;AAOpB,gBAAI,MAAM,KAAN,CAAY,GAAZ,CAAJ,EAAsB;AAClB,wBAAQ,UAAU,OAAV,CADU;aAAtB;AAGA,mBAAO,GAAP,EAAY,KAAZ,EAAmB,GAAnB,EAVoB;SAAxB,MAYK,IAAI,WAAW,IAAX,CAAgB,GAAhB,CAAJ,EAA0B;AAC3B,gBAAI,MAAM,IAAI,KAAJ,CAAU,YAAV,EAAwB,CAAxB,CAAN,CADuB;AAE3B,mBAAO,GAAP,EAAY,KAAZ,EAAmB,GAAnB,EAF2B;SAA1B,MAIA,IAAI,QAAQ,IAAR,CAAa,GAAb,CAAJ,EAAuB;AACxB,gBAAI,MAAM,IAAI,KAAJ,CAAU,SAAV,EAAqB,CAArB,CAAN,CADoB;AAExB,gBAAI,OAAO,KAAK,IAAI,CAAJ,CAAZ,CAFoB;AAGxB,gBAAI,SAAS,SAAT,IAAsB,CAAC,KAAK,IAAL,CAAU,IAAV,CAAD,IACvB,CAAC,MAAM,KAAN,CAAY,GAAZ,CAAD,IACA,CAAC,MAAM,QAAN,KACA,QAAQ,GAAR,IAAe,CAAC,eAAe,GAAf,CAAD,GAAuB,IAAtC,CAHA,EAG6C;AAC7C,uBAAO,GAAP,EAAY,IAAZ,EAAkB,GAAlB,EAD6C;AAE7C,oBAF6C;aAHjD,MAOK,IAAI,iBAAiB,IAAjB,CAAsB,IAAtB,CAAJ,EAAiC;AAClC,uBAAO,GAAP,EAAY,SAAS,MAAT,EAAiB,GAA7B,EADkC;AAElC,oBAFkC;aAAjC,MAIA;AACD,uBAAO,GAAP,EAAY,MAAM,OAAN,CAAc,GAAd,IAAqB,EAArB,GAA0B,IAA1B,EAAgC,GAA5C,EADC;aAJA;SAVJ,MAkBA,IAAI,UAAU,IAAV,CAAe,GAAf,CAAJ,EAAyB;AAC1B,gBAAI,UAAU,IAAI,KAAJ,CAAU,CAAV,EAAY,CAAC,CAAD,CAAZ,CAAgB,KAAhB,CAAsB,EAAtB,CAAV,CADsB;;AAG1B,gBAAI,SAAS,KAAT,CAHsB;AAI1B,iBAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,QAAQ,MAAR,EAAgB,GAApC,EAAyC;AACrC,oBAAI,OAAO,IAAI,KAAJ,CAAU,IAAE,CAAF,CAAjB,CADiC;;AAGrC,oBAAI,SAAS,GAAT,EAAc;AACd,2BAAO,QAAQ,CAAR,CAAP,EAAmB,IAAnB,EAAyB,GAAzB,EADc;AAEd,6BAFc;iBAAlB;;AAKA,oBAAI,WAAW,IAAX,CAAgB,QAAQ,CAAR,CAAhB,KAA+B,IAAI,IAAJ,CAAS,IAAT,CAA/B,EAA+C;AAC/C,2BAAO,QAAQ,CAAR,CAAP,EAAmB,KAAK,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAnB,EAAuC,GAAvC,EAD+C;AAE/C,6BAAS,IAAT,CAF+C;AAG/C,0BAH+C;iBAAnD;;AAMA,oBAAI,WAAW,IAAX,CAAgB,QAAQ,CAAR,CAAhB,KACD,0BAA0B,IAA1B,CAA+B,IAA/B,CADC,EACqC;AACrC,2BAAO,QAAQ,CAAR,CAAP,EAAmB,IAAnB,EAAyB,GAAzB,EADqC;AAErC,6BAAS,IAAT,CAFqC;AAGrC,0BAHqC;iBADzC;;AAOA,oBAAI,QAAQ,IAAE,CAAF,CAAR,IAAgB,QAAQ,IAAE,CAAF,CAAR,CAAa,KAAb,CAAmB,IAAnB,CAAhB,EAA0C;AAC1C,2BAAO,QAAQ,CAAR,CAAP,EAAmB,IAAI,KAAJ,CAAU,IAAE,CAAF,CAA7B,EAAmC,GAAnC,EAD0C;AAE1C,6BAAS,IAAT,CAF0C;AAG1C,0BAH0C;iBAA9C,MAKK;AACD,2BAAO,QAAQ,CAAR,CAAP,EAAmB,MAAM,OAAN,CAAc,QAAQ,CAAR,CAAd,IAA4B,EAA5B,GAAiC,IAAjC,EAAuC,GAA1D,EADC;iBALL;aArBJ;;AA+BA,gBAAI,MAAM,IAAI,KAAJ,CAAU,CAAC,CAAD,CAAV,CAAc,CAAd,CAAN,CAnCsB;AAoC1B,gBAAI,CAAC,MAAD,IAAW,QAAQ,GAAR,EAAa;AACxB,oBAAI,KAAK,IAAE,CAAF,CAAL,IAAa,CAAC,cAAc,IAAd,CAAmB,KAAK,IAAE,CAAF,CAAxB,CAAD,IACd,CAAC,MAAM,KAAN,CAAY,GAAZ,CAAD,KACC,QAAQ,GAAR,IAAe,CAAC,eAAe,GAAf,CAAD,GAAuB,IAAtC,CAFA,EAE6C;AAC7C,2BAAO,GAAP,EAAY,KAAK,IAAE,CAAF,CAAjB,EAAuB,GAAvB,EAD6C;AAE7C,wBAF6C;iBAFjD,MAMK,IAAI,KAAK,IAAE,CAAF,CAAL,IAAa,aAAa,IAAb,CAAkB,KAAK,IAAE,CAAF,CAAvB,CAAb,EAA2C;AAChD,2BAAO,GAAP,EAAY,KAAK,IAAE,CAAF,CAAL,KAAc,MAAd,EAAsB,GAAlC,EADgD;AAEhD,wBAFgD;iBAA/C,MAIA;AACD,2BAAO,GAAP,EAAY,MAAM,OAAN,CAAc,GAAd,IAAqB,EAArB,GAA0B,IAA1B,EAAgC,GAA5C,EADC;iBAJA;aAPT;SApCC,MAoDA;AACD,gBAAI,CAAC,MAAM,SAAN,IAAmB,MAAM,SAAN,CAAgB,GAAhB,MAAyB,KAAzB,EAAgC;AACpD,qBAAK,CAAL,CAAO,IAAP,CACI,MAAM,OAAN,CAAc,GAAd,KAAsB,CAAC,SAAS,GAAT,CAAD,GAAiB,GAAvC,GAA6C,OAAO,GAAP,CAA7C,CADJ,CADoD;aAAxD;AAKA,gBAAI,KAAK,SAAL,EAAgB;AAChB,qBAAK,CAAL,CAAO,IAAP,CAAY,KAAZ,CAAkB,KAAK,CAAL,EAAQ,KAAK,KAAL,CAAW,IAAI,CAAJ,CAArC,EADgB;AAEhB,sBAFgB;aAApB;SA1DC;KArCT;;AAsGA,WAAO,IAAP,CAAY,QAAZ,EAAsB,OAAtB,CAA8B,UAAU,GAAV,EAAe;AACzC,YAAI,CAAC,OAAO,IAAP,EAAa,IAAI,KAAJ,CAAU,GAAV,CAAb,CAAD,EAA+B;AAC/B,mBAAO,IAAP,EAAa,IAAI,KAAJ,CAAU,GAAV,CAAb,EAA6B,SAAS,GAAT,CAA7B,EAD+B;;AAG/B,aAAC,QAAQ,GAAR,KAAgB,EAAhB,CAAD,CAAqB,OAArB,CAA6B,UAAU,CAAV,EAAa;AACtC,uBAAO,IAAP,EAAa,EAAE,KAAF,CAAQ,GAAR,CAAb,EAA2B,SAAS,GAAT,CAA3B,EADsC;aAAb,CAA7B,CAH+B;SAAnC;KAD0B,CAA9B,CAnMmC;;AA6MnC,QAAI,KAAK,IAAL,CAAJ,EAAgB;AACZ,aAAK,IAAL,IAAa,IAAI,KAAJ,EAAb,CADY;AAEZ,iBAAS,OAAT,CAAiB,UAAS,GAAT,EAAc;AAC3B,iBAAK,IAAL,EAAW,IAAX,CAAgB,GAAhB,EAD2B;SAAd,CAAjB,CAFY;KAAhB,MAMK;AACD,iBAAS,OAAT,CAAiB,UAAS,GAAT,EAAc;AAC3B,iBAAK,CAAL,CAAO,IAAP,CAAY,GAAZ,EAD2B;SAAd,CAAjB,CADC;KANL;;AAYA,WAAO,IAAP,CAzNmC;CAAtB;;AA4NjB,SAAS,MAAT,CAAiB,GAAjB,EAAsB,IAAtB,EAA4B;AACxB,QAAI,IAAI,GAAJ,CADoB;AAExB,SAAK,KAAL,CAAW,CAAX,EAAa,CAAC,CAAD,CAAb,CAAiB,OAAjB,CAAyB,UAAU,GAAV,EAAe;AACpC,YAAK,EAAE,GAAF,KAAU,EAAV,CAD+B;KAAf,CAAzB,CAFwB;;AAMxB,QAAI,MAAM,KAAK,KAAK,MAAL,GAAc,CAAd,CAAX,CANoB;AAOxB,WAAO,OAAO,CAAP,CAPiB;CAA5B;;AAUA,SAAS,QAAT,CAAmB,CAAnB,EAAsB;AAClB,QAAI,OAAO,CAAP,KAAa,QAAb,EAAuB,OAAO,IAAP,CAA3B;AACA,QAAI,iBAAiB,IAAjB,CAAsB,CAAtB,CAAJ,EAA8B,OAAO,IAAP,CAA9B;AACA,WAAO,8CAA6C,IAA7C,CAAkD,CAAlD,CAAP;MAHkB;CAAtB","file":"index-compiled.js","sourcesContent":["module.exports = function (args, opts) {\n    if (!opts) opts = {};\n    \n    var flags = { bools : {}, strings : {}, unknownFn: null };\n\n    if (typeof opts['unknown'] === 'function') {\n        flags.unknownFn = opts['unknown'];\n    }\n\n    if (typeof opts['boolean'] === 'boolean' && opts['boolean']) {\n      flags.allBools = true;\n    } else {\n      [].concat(opts['boolean']).filter(Boolean).forEach(function (key) {\n          flags.bools[key] = true;\n      });\n    }\n    \n    var aliases = {};\n    Object.keys(opts.alias || {}).forEach(function (key) {\n        aliases[key] = [].concat(opts.alias[key]);\n        aliases[key].forEach(function (x) {\n            aliases[x] = [key].concat(aliases[key].filter(function (y) {\n                return x !== y;\n            }));\n        });\n    });\n\n    [].concat(opts.string).filter(Boolean).forEach(function (key) {\n        flags.strings[key] = true;\n        if (aliases[key]) {\n            flags.strings[aliases[key]] = true;\n        }\n     });\n\n    var defaults = opts['default'] || {};\n    \n    var argv = { _ : [] };\n    Object.keys(flags.bools).forEach(function (key) {\n        setArg(key, defaults[key] === undefined ? false : defaults[key]);\n    });\n    \n    var notFlags = [];\n\n    if (args.indexOf('--') !== -1) {\n        notFlags = args.slice(args.indexOf('--')+1);\n        args = args.slice(0, args.indexOf('--'));\n    }\n\n    function argDefined(key, arg) {\n        return (flags.allBools && /^--[^=]+$/.test(arg)) ||\n            flags.strings[key] || flags.bools[key] || aliases[key];\n    }\n\n    function setArg (key, val, arg) {\n        if (arg && flags.unknownFn && !argDefined(key, arg)) {\n            if (flags.unknownFn(arg) === false) return;\n        }\n\n        var value = !flags.strings[key] && isNumber(val)\n            ? Number(val) : val\n        ;\n        setKey(argv, key.split('.'), value);\n        \n        (aliases[key] || []).forEach(function (x) {\n            setKey(argv, x.split('.'), value);\n        });\n    }\n\n    function setKey (obj, keys, value) {\n        var o = obj;\n        keys.slice(0,-1).forEach(function (key) {\n            if (o[key] === undefined) o[key] = {};\n            o = o[key];\n        });\n\n        var key = keys[keys.length - 1];\n        if (o[key] === undefined || flags.bools[key] || typeof o[key] === 'boolean') {\n            o[key] = value;\n        }\n        else if (Array.isArray(o[key])) {\n            o[key].push(value);\n        }\n        else {\n            o[key] = [ o[key], value ];\n        }\n    }\n    \n    function aliasIsBoolean(key) {\n      return aliases[key].some(function (x) {\n          return flags.bools[x];\n      });\n    }\n\n    for (var i = 0; i < args.length; i++) {\n        var arg = args[i];\n        \n        if (/^--.+=/.test(arg)) {\n            // Using [\\s\\S] instead of . because js doesn't support the\n            // 'dotall' regex modifier. See:\n            // http://stackoverflow.com/a/1068308/13216\n            var m = arg.match(/^--([^=]+)=([\\s\\S]*)$/);\n            var key = m[1];\n            var value = m[2];\n            if (flags.bools[key]) {\n                value = value !== 'false';\n            }\n            setArg(key, value, arg);\n        }\n        else if (/^--no-.+/.test(arg)) {\n            var key = arg.match(/^--no-(.+)/)[1];\n            setArg(key, false, arg);\n        }\n        else if (/^--.+/.test(arg)) {\n            var key = arg.match(/^--(.+)/)[1];\n            var next = args[i + 1];\n            if (next !== undefined && !/^-/.test(next)\n            && !flags.bools[key]\n            && !flags.allBools\n            && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                setArg(key, next, arg);\n                i++;\n            }\n            else if (/^(true|false)$/.test(next)) {\n                setArg(key, next === 'true', arg);\n                i++;\n            }\n            else {\n                setArg(key, flags.strings[key] ? '' : true, arg);\n            }\n        }\n        else if (/^-[^-]+/.test(arg)) {\n            var letters = arg.slice(1,-1).split('');\n            \n            var broken = false;\n            for (var j = 0; j < letters.length; j++) {\n                var next = arg.slice(j+2);\n                \n                if (next === '-') {\n                    setArg(letters[j], next, arg)\n                    continue;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j]) && /=/.test(next)) {\n                    setArg(letters[j], next.split('=')[1], arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j])\n                && /-?\\d+(\\.\\d*)?(e-?\\d+)?$/.test(next)) {\n                    setArg(letters[j], next, arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (letters[j+1] && letters[j+1].match(/\\W/)) {\n                    setArg(letters[j], arg.slice(j+2), arg);\n                    broken = true;\n                    break;\n                }\n                else {\n                    setArg(letters[j], flags.strings[letters[j]] ? '' : true, arg);\n                }\n            }\n            \n            var key = arg.slice(-1)[0];\n            if (!broken && key !== '-') {\n                if (args[i+1] && !/^(-|--)[^-]/.test(args[i+1])\n                && !flags.bools[key]\n                && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                    setArg(key, args[i+1], arg);\n                    i++;\n                }\n                else if (args[i+1] && /true|false/.test(args[i+1])) {\n                    setArg(key, args[i+1] === 'true', arg);\n                    i++;\n                }\n                else {\n                    setArg(key, flags.strings[key] ? '' : true, arg);\n                }\n            }\n        }\n        else {\n            if (!flags.unknownFn || flags.unknownFn(arg) !== false) {\n                argv._.push(\n                    flags.strings['_'] || !isNumber(arg) ? arg : Number(arg)\n                );\n            }\n            if (opts.stopEarly) {\n                argv._.push.apply(argv._, args.slice(i + 1));\n                break;\n            }\n        }\n    }\n    \n    Object.keys(defaults).forEach(function (key) {\n        if (!hasKey(argv, key.split('.'))) {\n            setKey(argv, key.split('.'), defaults[key]);\n            \n            (aliases[key] || []).forEach(function (x) {\n                setKey(argv, x.split('.'), defaults[key]);\n            });\n        }\n    });\n    \n    if (opts['--']) {\n        argv['--'] = new Array();\n        notFlags.forEach(function(key) {\n            argv['--'].push(key);\n        });\n    }\n    else {\n        notFlags.forEach(function(key) {\n            argv._.push(key);\n        });\n    }\n\n    return argv;\n};\n\nfunction hasKey (obj, keys) {\n    var o = obj;\n    keys.slice(0,-1).forEach(function (key) {\n        o = (o[key] || {});\n    });\n\n    var key = keys[keys.length - 1];\n    return key in o;\n}\n\nfunction isNumber (x) {\n    if (typeof x === 'number') return true;\n    if (/^0x[0-9a-f]+$/i.test(x)) return true;\n    return /^[-+]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(e[-+]?\\d+)?$/.test(x);\n}\n\n"]}