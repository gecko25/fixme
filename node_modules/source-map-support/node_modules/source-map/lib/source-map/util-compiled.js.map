{"version":3,"sources":["util.js"],"names":[],"mappings":"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","file":"util-compiled.js","sourcesContent":["/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nif (typeof define !== 'function') {\n    var define = require('amdefine')(module, require);\n}\ndefine(function (require, exports, module) {\n\n  /**\n   * This is a helper function for getting values from parameter/options\n   * objects.\n   *\n   * @param args The object we are extracting values from\n   * @param name The name of the property we are getting.\n   * @param defaultValue An optional value to return if the property is missing\n   * from the object. If this is not specified and the property is missing, an\n   * error will be thrown.\n   */\n  function getArg(aArgs, aName, aDefaultValue) {\n    if (aName in aArgs) {\n      return aArgs[aName];\n    } else if (arguments.length === 3) {\n      return aDefaultValue;\n    } else {\n      throw new Error('\"' + aName + '\" is a required argument.');\n    }\n  }\n  exports.getArg = getArg;\n\n  var urlRegexp = /([\\w+\\-.]+):\\/\\/((\\w+:\\w+)@)?([\\w.]+)?(:(\\d+))?(\\S+)?/;\n  var dataUrlRegexp = /^data:.+\\,.+/;\n\n  function urlParse(aUrl) {\n    var match = aUrl.match(urlRegexp);\n    if (!match) {\n      return null;\n    }\n    return {\n      scheme: match[1],\n      auth: match[3],\n      host: match[4],\n      port: match[6],\n      path: match[7]\n    };\n  }\n  exports.urlParse = urlParse;\n\n  function urlGenerate(aParsedUrl) {\n    var url = aParsedUrl.scheme + \"://\";\n    if (aParsedUrl.auth) {\n      url += aParsedUrl.auth + \"@\"\n    }\n    if (aParsedUrl.host) {\n      url += aParsedUrl.host;\n    }\n    if (aParsedUrl.port) {\n      url += \":\" + aParsedUrl.port\n    }\n    if (aParsedUrl.path) {\n      url += aParsedUrl.path;\n    }\n    return url;\n  }\n  exports.urlGenerate = urlGenerate;\n\n  function join(aRoot, aPath) {\n    var url;\n\n    if (aPath.match(urlRegexp) || aPath.match(dataUrlRegexp)) {\n      return aPath;\n    }\n\n    if (aPath.charAt(0) === '/' && (url = urlParse(aRoot))) {\n      url.path = aPath;\n      return urlGenerate(url);\n    }\n\n    return aRoot.replace(/\\/$/, '') + '/' + aPath;\n  }\n  exports.join = join;\n\n  /**\n   * Because behavior goes wacky when you set `__proto__` on objects, we\n   * have to prefix all the strings in our set with an arbitrary character.\n   *\n   * See https://github.com/mozilla/source-map/pull/31 and\n   * https://github.com/mozilla/source-map/issues/30\n   *\n   * @param String aStr\n   */\n  function toSetString(aStr) {\n    return '$' + aStr;\n  }\n  exports.toSetString = toSetString;\n\n  function fromSetString(aStr) {\n    return aStr.substr(1);\n  }\n  exports.fromSetString = fromSetString;\n\n  function relative(aRoot, aPath) {\n    aRoot = aRoot.replace(/\\/$/, '');\n\n    var url = urlParse(aRoot);\n    if (aPath.charAt(0) == \"/\" && url && url.path == \"/\") {\n      return aPath.slice(1);\n    }\n\n    return aPath.indexOf(aRoot + '/') === 0\n      ? aPath.substr(aRoot.length + 1)\n      : aPath;\n  }\n  exports.relative = relative;\n\n  function strcmp(aStr1, aStr2) {\n    var s1 = aStr1 || \"\";\n    var s2 = aStr2 || \"\";\n    return (s1 > s2) - (s1 < s2);\n  }\n\n  /**\n   * Comparator between two mappings where the original positions are compared.\n   *\n   * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n   * mappings with the same original source/line/column, but different generated\n   * line and column the same. Useful when searching for a mapping with a\n   * stubbed out mapping.\n   */\n  function compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n    var cmp;\n\n    cmp = strcmp(mappingA.source, mappingB.source);\n    if (cmp) {\n      return cmp;\n    }\n\n    cmp = mappingA.originalLine - mappingB.originalLine;\n    if (cmp) {\n      return cmp;\n    }\n\n    cmp = mappingA.originalColumn - mappingB.originalColumn;\n    if (cmp || onlyCompareOriginal) {\n      return cmp;\n    }\n\n    cmp = strcmp(mappingA.name, mappingB.name);\n    if (cmp) {\n      return cmp;\n    }\n\n    cmp = mappingA.generatedLine - mappingB.generatedLine;\n    if (cmp) {\n      return cmp;\n    }\n\n    return mappingA.generatedColumn - mappingB.generatedColumn;\n  };\n  exports.compareByOriginalPositions = compareByOriginalPositions;\n\n  /**\n   * Comparator between two mappings where the generated positions are\n   * compared.\n   *\n   * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n   * mappings with the same generated line and column, but different\n   * source/name/original line and column the same. Useful when searching for a\n   * mapping with a stubbed out mapping.\n   */\n  function compareByGeneratedPositions(mappingA, mappingB, onlyCompareGenerated) {\n    var cmp;\n\n    cmp = mappingA.generatedLine - mappingB.generatedLine;\n    if (cmp) {\n      return cmp;\n    }\n\n    cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n    if (cmp || onlyCompareGenerated) {\n      return cmp;\n    }\n\n    cmp = strcmp(mappingA.source, mappingB.source);\n    if (cmp) {\n      return cmp;\n    }\n\n    cmp = mappingA.originalLine - mappingB.originalLine;\n    if (cmp) {\n      return cmp;\n    }\n\n    cmp = mappingA.originalColumn - mappingB.originalColumn;\n    if (cmp) {\n      return cmp;\n    }\n\n    return strcmp(mappingA.name, mappingB.name);\n  };\n  exports.compareByGeneratedPositions = compareByGeneratedPositions;\n\n});\n"]}