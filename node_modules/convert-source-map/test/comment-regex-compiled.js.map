{"version":3,"sources":["comment-regex.js"],"names":[],"mappings":"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","file":"comment-regex-compiled.js","sourcesContent":["'use strict';\n/*jshint asi: true */\n\nvar test = require('tap').test\n  , generator = require('inline-source-map')\n  , rx = require('..').commentRegex\n  , mapFileRx = require('..').mapFileCommentRegex\n\nfunction comment(prefix, suffix) {\n  rx.lastIndex = 0;\n  return rx.test(prefix + 'sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlcyI6WyJmdW5jdGlvbiBmb28oKSB7XG4gY29uc29sZS5sb2coXCJoZWxsbyBJIGFtIGZvb1wiKTtcbiBjb25zb2xlLmxvZyhcIndobyBhcmUgeW91XCIpO1xufVxuXG5mb28oKTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSJ9' + suffix)\n}\n\nfunction commentWithCharSet(prefix, suffix, sep) {\n  sep = sep || ':';\n  rx.lastIndex = 0;\n  return rx.test(prefix + 'sourceMappingURL=data:application/json;charset' + sep +'utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlcyI6WyJmdW5jdGlvbiBmb28oKSB7XG4gY29uc29sZS5sb2coXCJoZWxsbyBJIGFtIGZvb1wiKTtcbiBjb25zb2xlLmxvZyhcIndobyBhcmUgeW91XCIpO1xufVxuXG5mb28oKTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSJ9' + suffix)\n}\n\n// Source Map v2 Tests\ntest('comment regex old spec - @', function (t) {\n  [ \n    '//@ ',\n    '  //@ ', // with leading space\n    '\\t//@ ', // with leading tab\n    '//@ ',   // with leading text\n    '/*@ ',   // multi line style\n    '  /*@ ', // multi line style with leading spaces\n    '\\t/*@ ', // multi line style with leading tab\n    '/*@ ',   // multi line style with leading text\n  ].forEach(function (x) { \n    t.ok(comment(x, ''), 'matches ' + x) \n    t.ok(commentWithCharSet(x, ''), 'matches ' + x + ' with charset') \n    t.ok(commentWithCharSet(x, '', '='), 'matches ' + x + ' with charset')\n  });\n\n  [\n    ' @// @',\n    ' @/* @',\n  ].forEach(function (x) { t.ok(!comment(x, ''), 'should not match ' + x) })\n\n  t.end()\n})\n\ntest('comment regex new spec - #', function (t) {\n  [ \n    '  //# ', // with leading spaces\n    '\\t//# ', // with leading tab\n    '//# ',   // with leading text\n    '/*# ',   // multi line style\n    '  /*# ', // multi line style with leading spaces\n    '\\t/*# ', // multi line style with leading tab\n    '/*# ',   // multi line style with leading text\n  ].forEach(function (x) { \n    t.ok(comment(x, ''), 'matches ' + x) \n    t.ok(commentWithCharSet(x, ''), 'matches ' + x + ' with charset') \n    t.ok(commentWithCharSet(x, '', '='), 'matches ' + x + ' with charset')\n  });\n  \n  [ \n    ' #// #',\n    ' #/* #',\n  ].forEach(function (x) { t.ok(!comment(x, ''), 'should not match ' + x) })\n\n  t.end()\n})\n\nfunction mapFileCommentWrap(s1, s2) {\n  mapFileRx.lastIndex = 0;\n  return mapFileRx.test(s1 + 'sourceMappingURL=foo.js.map' + s2)\n}\n\ntest('mapFileComment regex old spec - @', function (t) {\n\n  [ \n    ['//@ ', ''],\n    ['  //@ ', ''],                 // with leading spaces\n    ['\\t//@ ', ''],                 // with a leading tab\n    ['///@ ', ''],                  // with a leading text\n    [';//@ ', ''],                  // with a leading text\n    ['return//@ ', ''],             // with a leading text\n  ].forEach(function (x) { t.ok(mapFileCommentWrap(x[0], x[1]), 'matches ' + x.join(' :: ')) });\n\n  [ \n    [' @// @', ''],\n    ['var sm = \"//@ ', '\"'],        // not inside a string\n    ['var sm = \\'//@ ', '\\''],      // not inside a string\n    ['var sm = \\' //@ ', '\\''],     // not inside a string\n  ].forEach(function (x) { t.ok(!mapFileCommentWrap(x[0], x[1]), 'does not match ' + x.join(' :: ')) })\n  t.end()\n})\n\ntest('mapFileComment regex new spec - #', function (t) {\n  [ \n    ['//# ', ''],\n    ['  //# ', ''],                 // with leading space\n    ['\\t//# ', ''],                 // with leading tab\n    ['///# ', ''],                  // with leading text\n    [';//# ', ''],                  // with leading text\n    ['return//# ', ''],             // with leading text\n  ].forEach(function (x) { t.ok(mapFileCommentWrap(x[0], x[1]), 'matches ' + x.join(' :: ')) });\n\n  [ \n    [' #// #', ''],\n    ['var sm = \"//# ', '\"'],        // not inside a string\n    ['var sm = \\'//# ', '\\''],      // not inside a string\n    ['var sm = \\' //# ', '\\''],     // not inside a string\n  ].forEach(function (x) { t.ok(!mapFileCommentWrap(x[0], x[1]), 'does not match ' + x.join(' :: ')) })\n  t.end()\n})\n\ntest('mapFileComment regex /* */ old spec - @', function (t) {\n  [ [ '/*@ ', '*/' ]\n  , ['  /*@ ', '  */ ' ]            // with leading spaces\n  , [ '\\t/*@ ', ' \\t*/\\t ']         // with a leading tab\n  , [ 'leading string/*@ ', '*/' ]  // with a leading string\n  , [ '/*@ ', ' \\t*/\\t ']           // with trailing whitespace\n  ].forEach(function (x) { t.ok(mapFileCommentWrap(x[0], x[1]), 'matches ' + x.join(' :: ')) });\n\n  [ ['/*@ ', ' */ */ ' ],       // not the last thing on its line \n    ['/*@ ', ' */ more text ' ] // not the last thing on its line \n  ].forEach(function (x) { t.ok(!mapFileCommentWrap(x[0], x[1]), 'does not match ' + x.join(' :: ')) });\n  t.end()\n})\n\ntest('mapFileComment regex /* */ new spec - #', function (t) {\n  [ [ '/*# ', '*/' ]\n  , ['  /*# ', '  */ ' ]            // with leading spaces\n  , [ '\\t/*# ', ' \\t*/\\t ']         // with a leading tab\n  , [ 'leading string/*# ', '*/' ]  // with a leading string\n  , [ '/*# ', ' \\t*/\\t ']           // with trailing whitespace\n  ].forEach(function (x) { t.ok(mapFileCommentWrap(x[0], x[1]), 'matches ' + x.join(' :: ')) });\n\n  [ ['/*# ', ' */ */ ' ],       // not the last thing on its line \n    ['/*# ', ' */ more text ' ] // not the last thing on its line \n  ].forEach(function (x) { t.ok(!mapFileCommentWrap(x[0], x[1]), 'does not match ' + x.join(' :: ')) });\n  t.end()\n})\n"]}