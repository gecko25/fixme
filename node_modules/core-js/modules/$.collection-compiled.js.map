{"version":3,"sources":["$.collection.js"],"names":[],"mappings":"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","file":"$.collection-compiled.js","sourcesContent":["'use strict';\nvar global         = require('./$.global')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , redefineAll    = require('./$.redefine-all')\n  , forOf          = require('./$.for-of')\n  , strictNew      = require('./$.strict-new')\n  , isObject       = require('./$.is-object')\n  , fails          = require('./$.fails')\n  , $iterDetect    = require('./$.iter-detect')\n  , setToStringTag = require('./$.set-to-string-tag');\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  var fixMethod = function(KEY){\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function(a){\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a){\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a){\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a){ fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b){ fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if(typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n  } else {\n    var instance             = new C\n      // early implementations not supports chaining\n      , HASNT_CHAINING       = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance\n      // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n      , THROWS_ON_PRIMITIVES = fails(function(){ instance.has(1); })\n      // most early implementations doesn't supports iterables, most modern - not close it correctly\n      , ACCEPT_ITERABLES     = $iterDetect(function(iter){ new C(iter); }) // eslint-disable-line no-new\n      // for early implementations -0 and +0 not the same\n      , BUGGY_ZERO;\n    if(!ACCEPT_ITERABLES){ \n      C = wrapper(function(target, iterable){\n        strictNew(target, C, NAME);\n        var that = new Base;\n        if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    IS_WEAK || instance.forEach(function(val, key){\n      BUGGY_ZERO = 1 / key === -Infinity;\n    });\n    if(THROWS_ON_PRIMITIVES || BUGGY_ZERO){\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if(BUGGY_ZERO || HASNT_CHAINING)fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if(IS_WEAK && proto.clear)delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};"]}