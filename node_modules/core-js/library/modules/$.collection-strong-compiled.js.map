{"version":3,"sources":["$.collection-strong.js"],"names":[],"mappings":"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","file":"$.collection-strong-compiled.js","sourcesContent":["'use strict';\nvar $            = require('./$')\n  , hide         = require('./$.hide')\n  , redefineAll  = require('./$.redefine-all')\n  , ctx          = require('./$.ctx')\n  , strictNew    = require('./$.strict-new')\n  , defined      = require('./$.defined')\n  , forOf        = require('./$.for-of')\n  , $iterDefine  = require('./$.iter-define')\n  , step         = require('./$.iter-step')\n  , ID           = require('./$.uid')('id')\n  , $has         = require('./$.has')\n  , isObject     = require('./$.is-object')\n  , setSpecies   = require('./$.set-species')\n  , DESCRIPTORS  = require('./$.descriptors')\n  , isExtensible = Object.isExtensible || isObject\n  , SIZE         = DESCRIPTORS ? '_s' : 'size'\n  , id           = 0;\n\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!$has(it, ID)){\n    // can't set id to frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add id\n    if(!create)return 'E';\n    // add missing object id\n    hide(it, ID, ++id);\n  // return object id with prefix\n  } return 'O' + it[ID];\n};\n\nvar getEntry = function(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index !== 'F')return that._i[index];\n  // frozen object case\n  for(entry = that._f; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      strictNew(that, C, NAME);\n      that._i = $.create(null); // index\n      that._f = undefined;      // first entry\n      that._l = undefined;      // last entry\n      that[SIZE] = 0;           // size\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that._f == entry)that._f = next;\n          if(that._l == entry)that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)\n          , entry;\n        while(entry = entry ? entry.n : this._f){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if(DESCRIPTORS)$.setDesc(C.prototype, 'size', {\n      get: function(){\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that._f)that._f = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index !== 'F')that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP){\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function(iterated, kind){\n      this._t = iterated;  // target\n      this._k = kind;      // kind\n      this._l = undefined; // previous\n    }, function(){\n      var that  = this\n        , kind  = that._k\n        , entry = that._l;\n      // revert to the last existing entry\n      while(entry && entry.r)entry = entry.p;\n      // get next entry\n      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if(kind == 'keys'  )return step(0, entry.k);\n      if(kind == 'values')return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};"]}