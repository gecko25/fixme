{"version":3,"sources":["$.iter-define.js"],"names":[],"mappings":"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","file":"$.iter-define-compiled.js","sourcesContent":["'use strict';\nvar LIBRARY        = require('./$.library')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , hide           = require('./$.hide')\n  , has            = require('./$.has')\n  , Iterators      = require('./$.iterators')\n  , $iterCreate    = require('./$.iter-create')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , getProto       = require('./$').getProto\n  , ITERATOR       = require('./$.wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , methods, key;\n  // Fix native\n  if($native){\n    var IteratorPrototype = getProto($default.call(new Base));\n    // Set @@toStringTag to native iterators\n    setToStringTag(IteratorPrototype, TAG, true);\n    // FF fix\n    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    // fix Array#{values, @@iterator}.name in V8 / FF\n    if(DEF_VALUES && $native.name !== VALUES){\n      VALUES_BUG = true;\n      $default = function values(){ return $native.call(this); };\n    }\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n      keys:    IS_SET      ? $default : getMethod(KEYS),\n      entries: !DEF_VALUES ? $default : getMethod('entries')\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};"]}